[gd_scene load_steps=11 format=4 uid="uid://tn8wnpcsxrq5"]

[ext_resource type="Script" uid="uid://b2qqmtfn1c1nh" path="res://scenes/test_and_debug/wfc_test.gd" id="1_1ko8f"]
[ext_resource type="TileSet" uid="uid://ont3d4pvxurd" path="res://assets/images/wave_tiles/new_wave_tile_set.tres" id="1_t32wb"]
[ext_resource type="Script" uid="uid://do1yu6e6veq7k" path="res://addons/wfc/nodes/layered_map_2d.gd" id="2_al3ws"]
[ext_resource type="Script" uid="uid://cnwagyi7q0qi2" path="res://addons/wfc/problems/2d/mappers/mapper_2d_factory.gd" id="3_0bq1e"]
[ext_resource type="Script" uid="uid://chytbcpxjkn5o" path="res://addons/wfc/nodes/generator_2d.gd" id="3_al3ws"]
[ext_resource type="Script" uid="uid://bcxfurx8miujl" path="res://scenes/test_and_debug/progress_indicator.gd" id="5_1ko8f"]

[sub_resource type="Resource" id="Resource_an7pg"]
script = ExtResource("3_0bq1e")

[sub_resource type="Resource" id="Resource_al3ws"]
script = ExtResource("3_0bq1e")

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_6msag"]
bg_color = Color(0.6, 0.6, 0.6, 0.807843)

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_xru5r"]
bg_color = Color(0.6, 0.6, 0.6, 0.858824)

[node name="WfcTest" type="Node2D"]
script = ExtResource("1_1ko8f")

[node name="sample" type="Node" parent="."]
script = ExtResource("2_al3ws")
mapper_factory = SubResource("Resource_an7pg")
metadata/_custom_type_script = "uid://do1yu6e6veq7k"

[node name="main" type="TileMapLayer" parent="sample"]
visible = false
tile_map_data = PackedByteArray("AAAAAAAAAAABAAEAAAAAAAoAAAABAAEAAAAAAAgAAAABAAEAAAAAAAYAAAABAAEAAAAAAAQAAAABAAEAAAAAAAIAAAABAAEAAAACAAAAAAADAAEAAAACAAIAAAAEAAEAAAACAAQAAAAEAAAAAAACAAYAAAADAAAAAAACAAgAAAABAAAAAAACAAoAAAAAAAEAAAAEAAAAAAABAAIAAAAEAAIAAAACAAEAAAAEAAQAAAAAAAAAAAAEAAYAAAAAAAIAAAAEAAgAAAACAAAAAAAEAAoAAAACAAIAAAAGAAAAAAADAAIAAAAGAAIAAAADAAIAAAAGAAQAAAADAAIAAAAGAAYAAAADAAIAAAAGAAgAAAADAAIAAAAGAAoAAAADAAIAAAAIAAAAAAADAAIAAAAIAAIAAAABAAEAAAAIAAQAAAAEAAUAAAAIAAYAAAAFAAQAAAAIAAgAAAACAAQAAAAIAAoAAAAGAAYAAAAKAAAAAAACAAMAAAAKAAIAAAAAAAQAAAAKAAQAAAADAAQAAAAKAAYAAAAAAAYAAAAKAAgAAAAHAAYAAAAKAAoAAAABAAUAAAAMAAAAAAACAAUAAAAMAAIAAAABAAQAAAA=")
tile_set = ExtResource("1_t32wb")

[node name="decorations" type="TileMapLayer" parent="sample"]
visible = false
tile_map_data = PackedByteArray("AAAAAAAAAAAFAAEAAAAAAAIAAAAFAAAAAAAAAAQAAAAGAAAAAAAAAAYAAAAHAAAAAAAAAAgAAAAGAAEAAAAAAAoAAAAHAAEAAAA=")
tile_set = ExtResource("1_t32wb")

[node name="target" type="Node" parent="."]
script = ExtResource("2_al3ws")
mapper_factory = SubResource("Resource_al3ws")
metadata/_custom_type_script = "uid://do1yu6e6veq7k"

[node name="main" type="TileMapLayer" parent="target"]
tile_map_data = PackedByteArray("AAAGAAMAAAABAAEAAAAWAA4AAAABAAEAAAAJABYAAAABAAEAAAAYAAMAAAADAAIAAAAnABwAAAADAAIAAAAPACQAAAADAAIAAAA7AAAAAAAGAAMAAAA7ABkAAAAGAAMAAAA2ABkAAAAEAAUAAAAwABkAAAAEAAUAAAAhABkAAAAEAAUAAAATABkAAAAEAAUAAAAIABkAAAAEAAUAAAAGABYAAAABAAEAAAAHABYAAAABAAEAAAAIABYAAAABAAEAAAAQABUAAAADAAIAAAARABUAAAADAAIAAAASABUAAAADAAIAAAATABUAAAADAAIAAAATABQAAAADAAIAAAAUABQAAAADAAIAAAAUABUAAAADAAIAAAAVABUAAAADAAIAAAAfABQAAAADAAIAAAAgABQAAAADAAIAAAAhABQAAAADAAIAAAAiABQAAAADAAIAAAAjABQAAAADAAIAAAAuABQAAAADAAIAAAAvABQAAAADAAIAAAAwABQAAAADAAIAAAAxABQAAAADAAIAAAA2ABQAAAADAAIAAAA3ABQAAAADAAIAAAA4ABQAAAADAAIAAAA=")
tile_set = ExtResource("1_t32wb")

[node name="decorations" type="TileMapLayer" parent="target"]
tile_map_data = PackedByteArray("AAAWAA4AAAAGAAEAAAAGAAMAAAAHAAEAAAA=")
tile_set = ExtResource("1_t32wb")

[node name="progressIndicator" type="CanvasLayer" parent="." node_paths=PackedStringArray("generator")]
script = ExtResource("5_1ko8f")
generator = NodePath("../WFC2DGenerator")

[node name="CenterContainer" type="CenterContainer" parent="progressIndicator"]
custom_minimum_size = Vector2(0, 100)
anchors_preset = 10
anchor_right = 1.0
grow_horizontal = 2

[node name="VBoxContainer" type="VBoxContainer" parent="progressIndicator/CenterContainer"]
layout_mode = 2

[node name="ProgressBar" type="ProgressBar" parent="progressIndicator/CenterContainer/VBoxContainer"]
unique_name_in_owner = true
custom_minimum_size = Vector2(500, 0)
layout_mode = 2
theme_override_styles/fill = SubResource("StyleBoxFlat_6msag")

[node name="StatusLabel" type="Label" parent="progressIndicator/CenterContainer/VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
theme_override_styles/normal = SubResource("StyleBoxFlat_xru5r")
text = "Not started"

[node name="WFC2DGenerator" type="Node" parent="."]
script = ExtResource("3_al3ws")
target = NodePath("../target")
rect = Rect2i(0, 0, 90, 90)
positive_sample = NodePath("../sample")
render_intermediate_results = true
metadata/_custom_type_script = "uid://chytbcpxjkn5o"
